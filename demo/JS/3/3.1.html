<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>3.1 简单js效果</title>
    <script type="text/javascript">
      window.onload = function() {
      //3.1
        var plus = document.getElementsByTagName('input')
          var sum = document.getElementsByTagName('button')[0]
          var result = document.getElementsByTagName('span')[0]
          for (var i = 0; i < plus.length; i++) {
            plus[i].onkeydown = function() {
              if(this.value.search(/[^\d.]/g) != -1) {
          alert('请输入数字')
          this.value = this.value.replace(/[^\d.]/g,'')
        }
            }
          }
          sum.onclick = function() {
            if (plus[0].value == '' || plus[1].value == '') {
              alert('不能为空')
            }
            result.innerText = Number(plus[0].value) + Number(plus[1].value)
            plus[0].value = ''
            plus[1].value = ''
          }

      //3.2
        var inc = document.getElementById('inc')
        inc.onclick = function() {
          inc.innerText = parseInt(inc.innerText) + 1
        }


      //3.3
      var compare = document.getElementById('container3')
      var num = compare.getElementsByTagName('input')
      var btn = compare.getElementsByTagName('button')[0]
      var compareSpan = compare.getElementsByTagName('span')[0]
      var temp1 = []
      for (var i = 0; i < num.length; i++) {
        num[i].index = i
            num[i].onkeyup = function() {
            if(this.value.search(/[^\d.]/g) != -1) {
          alert('请输入数字')
          this.value = this.value.replace(/[^\d.]/g,'')
        }
              temp1[this.index] = parseInt(this.value)
            }
        }
      btn.onclick = function () {
        console.log(temp1)
        compareSpan.innerText = Math.max.apply(this, temp1)
        temp1 = []
      }

    //3.4
      var container4 = document.getElementById('container4')
       var timer = setInterval(function() {
         container4.innerText ++
         if (parseInt(container4.innerText) == 10) {
           clearInterval(timer)
         }
       }, 1000)

    //3.5
      var container5 = document.getElementById('container5')
      var number = container5.getElementsByTagName('input')[0]
      var judge = container5.getElementsByTagName('input')[1]
      number. onkeyup = function () {
        if(this.value.search(/[^\d.]/g) != -1) {
          alert('请输入数字')
          this.value = this.value.replace(/[^\d.]/g,'')
        }
      }
      judge.onclick = function () {
        alert('输入的是' + number.value.split('').length + '位数')
      }
    }

    </script>
  </head>
  <body>
    点击求和
    <div id="container1">
      <input type="text" > + <input type="text" > = <span>?</span>  <button type="button" name="button">求和</button>
    </div>

    点击按钮递增
    <div id="container2">
      <button type="button" name="button" id='inc'>0</button>
    </div>

    比较大小
    <div id="container3">
      <input type="text"> vs <input type="text" > <button type="button" name="button">比较大小</button> <span>?</span>
    </div>

    数字循环递增
    <div id="container4">
      0
    </div>

    判断数字位数
    <div id="container5">
      <input type="text"> <input type="button" value="判断位数">
    </div>

  </body>
</html>
