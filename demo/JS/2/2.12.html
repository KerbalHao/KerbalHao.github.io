<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>12.复选框（checkbox）全选/全不选/返选</title>
    <style>
        body,dl,dt,dd,p{margin:0;padding:0;}
body{font-family:Tahoma;font-size:12px;}
label,input,a{vertical-align:middle;}
label{padding:0 10px 0 5px;}
a{color:#09f;text-decoration:none;}
a:hover{color:red;}
dl{width:120px;margin:10px auto;padding:10px 5px;border:1px solid #666;border-radius:5px;background:#fafafa;}
dt{padding-bottom:10px;border-bottom:1px solid #666;}
dt label{font-weight:700;}
p{margin-top:10px;}
</style>
  </head>
  <script type="text/javascript">
    window.onload = function() {
      var items = document.getElementsByName('item')
      var checkAll = document.getElementById('checkAll')
      var reverse = document.getElementsByTagName('a')[0]
      var label = document.getElementsByTagName('label')[0]
      var isCheckAll = function() {
        var num = 10;
        for (var i = 0; i < items.length; i++) {
          items[i].checked ? num : num--
        }
        checkAll.checked = num == 10
        label.innerHTML = num == 10 ? '全不选' : '全选'
      }
      checkAll.onclick = function() {
        for (var i = 0; i < items.length; i++) {
          items[i].checked = this.checked
        }
        isCheckAll()
      }
      reverse.onclick = function() {
        for (var i = 0; i < items.length; i++) {
          items[i].checked = !items[i].checked
        }
        isCheckAll()
      }
      for (var i = 0; i < items.length; i++) {
                items[i].onclick = function() {
                    isCheckAll()
                }
            }
    }

  </script>
<body>
    <dl>
        <dt><input type="checkbox" id="checkAll" /><label for='checkAll'>全选</label><a href="javascript:;">反选</a></dt>
        <dd>
            <p><input type="checkbox" name="item" id='n1'/><label for='n1'>选项（一）</label></p>
            <p><input type="checkbox" name="item" id='n2'/><label for='n2'>选项（二）</label></p>
            <p><input type="checkbox" name="item" id='n3'/><label for='n3'>选项（三）</label></p>
            <p><input type="checkbox" name="item" id='n4'/><label for='n4'>选项（四）</label></p>
            <p><input type="checkbox" name="item" id='n5'/><label for='n5'>选项（五）</label></p>
            <p><input type="checkbox" name="item" id='n6'/><label for='n6'>选项（六）</label></p>
            <p><input type="checkbox" name="item" id='n7'/><label for='n7'>选项（七）</label></p>
            <p><input type="checkbox" name="item" id='n8'/><label for='n8'>选项（八）</label></p>
            <p><input type="checkbox" name="item" id='n9' /><label for='n9'>选项（九）</label></p>
            <p><input type="checkbox" name="item" id='n10'/><label for='n10'>选项（十）</label></p>
        </dd>
    </dl>
    <center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>
</body>
</html>
